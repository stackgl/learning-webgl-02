!function t(r,e,n){function a(i,s){if(!e[i]){if(!r[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var h=e[i]={exports:{}};r[i][0].call(h.exports,function(t){var e=r[i][1][t];return a(e?e:t)},h,h.exports,t,r,e,n)}return e[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(t){function r(){var t=a.drawingBufferWidth,r=a.drawingBufferHeight;n(a),a.viewport(0,0,t,r),a.enableVertexAttribArray(0),a.enableVertexAttribArray(1),i.perspective(h,Math.PI/4,t/r,.1,100),i.identity(u,u),i.translate(u,u,[-1.5,0,-7]),i.copy(f,u),i.translate(f,f,[3,0,0]),s.bind(),s.uniforms.uProjection=h,s.attributes.aPosition.pointer(),s.attributes.aColor.pointer(),s.uniforms.uModelView=u,c.vertices.bind(),a.vertexAttribPointer(0,3,a.FLOAT,!1,0,0),c.colors.bind(),a.vertexAttribPointer(1,3,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLES,0,c.length),s.uniforms.uModelView=f,l.vertices.bind(),a.vertexAttribPointer(0,3,a.FLOAT,!1,0,0),l.colors.bind(),a.vertexAttribPointer(1,3,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLE_STRIP,0,4)}var e=document.body.appendChild(document.createElement("canvas")),n=t("gl-clear")({color:[0,0,0,1]}),a=t("gl-context")(e,r),o=t("gl-buffer"),i=t("gl-mat4"),s=(t("glslify"),t("glslify/adapter.js")("\n#define GLSLIFY 1\n\nprecision mediump float;\nattribute vec3 aPosition;\nattribute vec3 aColor;\nuniform mat4 uModelView;\nuniform mat4 uProjection;\nvarying vec3 vColor;\nvoid main() {\n  gl_Position = uProjection * uModelView * vec4(aPosition, 1.0);\n  vColor = aColor;\n}","\n#define GLSLIFY 1\n\nprecision mediump float;\nvarying vec3 vColor;\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}",[{name:"uModelView",type:"mat4"},{name:"uProjection",type:"mat4"}],[{name:"aPosition",type:"vec3"},{name:"aColor",type:"vec3"}])(a));s.attributes.aPosition.location=0,s.attributes.aColor.location=1;var u=i.create(),f=i.create(),h=i.create(),c={vertices:o(a,new Float32Array([0,1,0,-1,-1,0,1,-1,0])),colors:o(a,new Float32Array([1,0,0,0,1,0,0,0,1])),length:3},l={vertices:o(a,new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0])),colors:o(a,new Float32Array([.5,.5,1,.5,.5,1,.5,.5,1,.5,.5,1])),length:4};window.addEventListener("resize",t("canvas-fit")(e),!1)},{"canvas-fit":6,"gl-buffer":8,"gl-clear":22,"gl-context":23,"gl-mat4":34,glslify:49,"glslify/adapter.js":48}],2:[function(t,r,e){function n(t,r,e){if(!(this instanceof n))return new n(t,r,e);var a,o=typeof t;if("number"===o)a=t>0?t>>>0:0;else if("string"===o)a=n.byteLength(t,r);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&N(t.data)&&(t=t.data),a=+t.length>0?Math.floor(+t.length):0}if(a>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");var i;n.TYPED_ARRAY_SUPPORT?i=n._augment(new Uint8Array(a)):(i=this,i.length=a,i._isBuffer=!0);var s;if(n.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)i._set(t);else if(x(t))if(n.isBuffer(t))for(s=0;a>s;s++)i[s]=t.readUInt8(s);else for(s=0;a>s;s++)i[s]=(t[s]%256+256)%256;else if("string"===o)i.write(t,0,r);else if("number"===o&&!n.TYPED_ARRAY_SUPPORT&&!e)for(s=0;a>s;s++)i[s]=0;return a>0&&a<=n.poolSize&&(i.parent=F),i}function a(t,r,e){if(!(this instanceof a))return new a(t,r,e);var o=new n(t,r,e);return delete o.parent,o}function o(t,r,e,n){e=Number(e)||0;var a=t.length-e;n?(n=Number(n),n>a&&(n=a)):n=a;var o=r.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var i=0;n>i;i++){var s=parseInt(r.substr(2*i,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[e+i]=s}return i}function i(t,r,e,n){var a=P(T(r,t.length-e),t,e,n);return a}function s(t,r,e,n){var a=P(U(r),t,e,n);return a}function u(t,r,e,n){return s(t,r,e,n)}function f(t,r,e,n){var a=P(B(r),t,e,n);return a}function h(t,r,e,n){var a=P(V(r,t.length-e),t,e,n,2);return a}function c(t,r,e){return M.fromByteArray(0===r&&e===t.length?t:t.slice(r,e))}function l(t,r,e){var n="",a="";e=Math.min(t.length,e);for(var o=r;e>o;o++)t[o]<=127?(n+=S(a)+String.fromCharCode(t[o]),a=""):a+="%"+t[o].toString(16);return n+S(a)}function p(t,r,e){var n="";e=Math.min(t.length,e);for(var a=r;e>a;a++)n+=String.fromCharCode(127&t[a]);return n}function g(t,r,e){var n="";e=Math.min(t.length,e);for(var a=r;e>a;a++)n+=String.fromCharCode(t[a]);return n}function d(t,r,e){var n=t.length;(!r||0>r)&&(r=0),(!e||0>e||e>n)&&(e=n);for(var a="",o=r;e>o;o++)a+=R(t[o]);return a}function y(t,r,e){for(var n=t.slice(r,e),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function v(t,r,e){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function b(t,r,e,a,o,i){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>o||i>r)throw new RangeError("value is out of bounds");if(e+a>t.length)throw new RangeError("index out of range")}function _(t,r,e,n){0>r&&(r=65535+r+1);for(var a=0,o=Math.min(t.length-e,2);o>a;a++)t[e+a]=(r&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function w(t,r,e,n){0>r&&(r=4294967295+r+1);for(var a=0,o=Math.min(t.length-e,4);o>a;a++)t[e+a]=r>>>8*(n?a:3-a)&255}function m(t,r,e,n,a,o){if(r>a||o>r)throw new RangeError("value is out of bounds");if(e+n>t.length)throw new RangeError("index out of range");if(0>e)throw new RangeError("index out of range")}function A(t,r,e,n,a){return a||m(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(t,r,e,n,23,4),e+4}function E(t,r,e,n,a){return a||m(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(t,r,e,n,52,8),e+8}function j(t){if(t=I(t).replace(C,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function I(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function x(t){return N(t)||n.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function R(t){return 16>t?"0"+t.toString(16):t.toString(16)}function T(t,r){var e,n=t.length,a=null;r=r||1/0;for(var o=[],i=0;n>i;i++){if(e=t.charCodeAt(i),e>55295&&57344>e){if(!a){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(i+1===n){(r-=3)>-1&&o.push(239,191,189);continue}a=e;continue}if(56320>e){(r-=3)>-1&&o.push(239,191,189),a=e;continue}e=a-55296<<10|e-56320|65536,a=null}else a&&((r-=3)>-1&&o.push(239,191,189),a=null);if(128>e){if((r-=1)<0)break;o.push(e)}else if(2048>e){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(65536>e){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(2097152>e))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function U(t){for(var r=[],e=0;e<t.length;e++)r.push(255&t.charCodeAt(e));return r}function V(t,r){for(var e,n,a,o=[],i=0;i<t.length&&!((r-=2)<0);i++)e=t.charCodeAt(i),n=e>>8,a=e%256,o.push(a),o.push(n);return o}function B(t){return M.toByteArray(j(t))}function P(t,r,e,n,a){a&&(n-=n%a);for(var o=0;n>o&&!(o+e>=r.length||o>=t.length);o++)r[o+e]=t[o];return o}function S(t){try{return decodeURIComponent(t)}catch(r){return String.fromCharCode(65533)}}var M=t("base64-js"),O=t("ieee754"),N=t("is-array");e.Buffer=n,e.SlowBuffer=a,e.INSPECT_MAX_BYTES=50,n.poolSize=8192;var L=1073741823,F={};n.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),r=new Uint8Array(t);return r.foo=function(){return 42},42===r.foo()&&"function"==typeof r.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(e){return!1}}(),n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,r){if(!n.isBuffer(t)||!n.isBuffer(r))throw new TypeError("Arguments must be Buffers");for(var e=t.length,a=r.length,o=0,i=Math.min(e,a);i>o&&t[o]===r[o];o++);return o!==i&&(e=t[o],a=r[o]),a>e?-1:e>a?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,r){if(!N(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new n(0);if(1===t.length)return t[0];var e;if(void 0===r)for(r=0,e=0;e<t.length;e++)r+=t[e].length;var a=new n(r),o=0;for(e=0;e<t.length;e++){var i=t[e];i.copy(a,o),o+=i.length}return a},n.byteLength=function(t,r){var e;switch(t+="",r||"utf8"){case"ascii":case"binary":case"raw":e=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=2*t.length;break;case"hex":e=t.length>>>1;break;case"utf8":case"utf-8":e=T(t).length;break;case"base64":e=B(t).length;break;default:e=t.length}return e},n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(t,r,e){var n=!1;if(r>>>=0,e=void 0===e||1/0===e?this.length:e>>>0,t||(t="utf8"),0>r&&(r=0),e>this.length&&(e=this.length),r>=e)return"";for(;;)switch(t){case"hex":return d(this,r,e);case"utf8":case"utf-8":return l(this,r,e);case"ascii":return p(this,r,e);case"binary":return g(this,r,e);case"base64":return c(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===n.compare(this,t)},n.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return n.compare(this,t)},n.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},n.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},n.prototype.write=function(t,r,e,n){if(isFinite(r))isFinite(e)||(n=e,e=void 0);else{var a=n;n=r,r=e,e=a}if(r=Number(r)||0,0>e||0>r||r>this.length)throw new RangeError("attempt to write outside buffer bounds");var c=this.length-r;e?(e=Number(e),e>c&&(e=c)):e=c,n=String(n||"utf8").toLowerCase();var l;switch(n){case"hex":l=o(this,t,r,e);break;case"utf8":case"utf-8":l=i(this,t,r,e);break;case"ascii":l=s(this,t,r,e);break;case"binary":l=u(this,t,r,e);break;case"base64":l=f(this,t,r,e);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":l=h(this,t,r,e);break;default:throw new TypeError("Unknown encoding: "+n)}return l},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,0>t?(t+=e,0>t&&(t=0)):t>e&&(t=e),0>r?(r+=e,0>r&&(r=0)):r>e&&(r=e),t>r&&(r=t);var a;if(n.TYPED_ARRAY_SUPPORT)a=n._augment(this.subarray(t,r));else{var o=r-t;a=new n(o,void 0,!0);for(var i=0;o>i;i++)a[i]=this[i+t]}return a.length&&(a.parent=this.parent||this),a},n.prototype.readUIntLE=function(t,r,e){t>>>=0,r>>>=0,e||v(t,r,this.length);for(var n=this[t],a=1,o=0;++o<r&&(a*=256);)n+=this[t+o]*a;return n},n.prototype.readUIntBE=function(t,r,e){t>>>=0,r>>>=0,e||v(t,r,this.length);for(var n=this[t+--r],a=1;r>0&&(a*=256);)n+=this[t+--r]*a;return n},n.prototype.readUInt8=function(t,r){return r||v(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,r){return r||v(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,r){return r||v(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,r){return r||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,r){return r||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,r,e){t>>>=0,r>>>=0,e||v(t,r,this.length);for(var n=this[t],a=1,o=0;++o<r&&(a*=256);)n+=this[t+o]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*r)),n},n.prototype.readIntBE=function(t,r,e){t>>>=0,r>>>=0,e||v(t,r,this.length);for(var n=r,a=1,o=this[t+--n];n>0&&(a*=256);)o+=this[t+--n]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o},n.prototype.readInt8=function(t,r){return r||v(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,r){r||v(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},n.prototype.readInt16BE=function(t,r){r||v(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},n.prototype.readInt32LE=function(t,r){return r||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,r){return r||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,r){return r||v(t,4,this.length),O.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,r){return r||v(t,4,this.length),O.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,r){return r||v(t,8,this.length),O.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,r){return r||v(t,8,this.length),O.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,r,e,n){t=+t,r>>>=0,e>>>=0,n||b(this,t,r,e,Math.pow(2,8*e),0);var a=1,o=0;for(this[r]=255&t;++o<e&&(a*=256);)this[r+o]=t/a>>>0&255;return r+e},n.prototype.writeUIntBE=function(t,r,e,n){t=+t,r>>>=0,e>>>=0,n||b(this,t,r,e,Math.pow(2,8*e),0);var a=e-1,o=1;for(this[r+a]=255&t;--a>=0&&(o*=256);)this[r+a]=t/o>>>0&255;return r+e},n.prototype.writeUInt8=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t,r+1},n.prototype.writeUInt16LE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8):_(this,t,r,!0),r+2},n.prototype.writeUInt16BE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t):_(this,t,r,!1),r+2},n.prototype.writeUInt32LE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t):w(this,t,r,!0),r+4},n.prototype.writeUInt32BE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t):w(this,t,r,!1),r+4},n.prototype.writeIntLE=function(t,r,e,n){t=+t,r>>>=0,n||b(this,t,r,e,Math.pow(2,8*e-1)-1,-Math.pow(2,8*e-1));var a=0,o=1,i=0>t?1:0;for(this[r]=255&t;++a<e&&(o*=256);)this[r+a]=(t/o>>0)-i&255;return r+e},n.prototype.writeIntBE=function(t,r,e,n){t=+t,r>>>=0,n||b(this,t,r,e,Math.pow(2,8*e-1)-1,-Math.pow(2,8*e-1));var a=e-1,o=1,i=0>t?1:0;for(this[r+a]=255&t;--a>=0&&(o*=256);)this[r+a]=(t/o>>0)-i&255;return r+e},n.prototype.writeInt8=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=t,r+1},n.prototype.writeInt16LE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8):_(this,t,r,!0),r+2},n.prototype.writeInt16BE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t):_(this,t,r,!1),r+2},n.prototype.writeInt32LE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[r]=t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):w(this,t,r,!0),r+4},n.prototype.writeInt32BE=function(t,r,e){return t=+t,r>>>=0,e||b(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t):w(this,t,r,!1),r+4},n.prototype.writeFloatLE=function(t,r,e){return A(this,t,r,!0,e)},n.prototype.writeFloatBE=function(t,r,e){return A(this,t,r,!1,e)},n.prototype.writeDoubleLE=function(t,r,e){return E(this,t,r,!0,e)},n.prototype.writeDoubleBE=function(t,r,e){return E(this,t,r,!1,e)},n.prototype.copy=function(t,r,e,a){var o=this;if(e||(e=0),a||0===a||(a=this.length),r>=t.length&&(r=t.length),r||(r=0),a>0&&e>a&&(a=e),a===e)return 0;if(0===t.length||0===o.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>e||e>=o.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-r<a-e&&(a=t.length-r+e);var i=a-e;if(1e3>i||!n.TYPED_ARRAY_SUPPORT)for(var s=0;i>s;s++)t[s+r]=this[s+e];else t._set(this.subarray(e,e+i),r);return i},n.prototype.fill=function(t,r,e){if(t||(t=0),r||(r=0),e||(e=this.length),r>e)throw new RangeError("end < start");if(e!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>e||e>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=r;e>n;n++)this[n]=t;else{var a=T(t.toString()),o=a.length;for(n=r;e>n;n++)this[n]=a[n%o]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var t=new Uint8Array(this.length),r=0,e=t.length;e>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var k=n.prototype;n._augment=function(t){return t.constructor=n,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=k.get,t.set=k.set,t.write=k.write,t.toString=k.toString,t.toLocaleString=k.toString,t.toJSON=k.toJSON,t.equals=k.equals,t.compare=k.compare,t.copy=k.copy,t.slice=k.slice,t.readUIntLE=k.readUIntLE,t.readUIntBE=k.readUIntBE,t.readUInt8=k.readUInt8,t.readUInt16LE=k.readUInt16LE,t.readUInt16BE=k.readUInt16BE,t.readUInt32LE=k.readUInt32LE,t.readUInt32BE=k.readUInt32BE,t.readIntLE=k.readIntLE,t.readIntBE=k.readIntBE,t.readInt8=k.readInt8,t.readInt16LE=k.readInt16LE,t.readInt16BE=k.readInt16BE,t.readInt32LE=k.readInt32LE,t.readInt32BE=k.readInt32BE,t.readFloatLE=k.readFloatLE,t.readFloatBE=k.readFloatBE,t.readDoubleLE=k.readDoubleLE,t.readDoubleBE=k.readDoubleBE,t.writeUInt8=k.writeUInt8,t.writeUIntLE=k.writeUIntLE,t.writeUIntBE=k.writeUIntBE,t.writeUInt16LE=k.writeUInt16LE,t.writeUInt16BE=k.writeUInt16BE,t.writeUInt32LE=k.writeUInt32LE,t.writeUInt32BE=k.writeUInt32BE,t.writeIntLE=k.writeIntLE,t.writeIntBE=k.writeIntBE,t.writeInt8=k.writeInt8,t.writeInt16LE=k.writeInt16LE,t.writeInt16BE=k.writeInt16BE,t.writeInt32LE=k.writeInt32LE,t.writeInt32BE=k.writeInt32BE,t.writeFloatLE=k.writeFloatLE,t.writeFloatBE=k.writeFloatBE,t.writeDoubleLE=k.writeDoubleLE,t.writeDoubleBE=k.writeDoubleBE,t.fill=k.fill,t.inspect=k.inspect,t.toArrayBuffer=k.toArrayBuffer,t};var C=/[^+\/0-9A-z\-]/g},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(t,r,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===i||r===c?62:r===s||r===l?63:u>r?-1:u+10>r?r-u+26+26:h+26>r?r-h:f+26>r?r-f+26:void 0}function e(t){function e(t){f[c++]=t}var n,a,i,s,u,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;u="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,f=new o(3*t.length/4-u),i=u>0?t.length-4:t.length;var c=0;for(n=0,a=0;i>n;n+=4,a+=3)s=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&s)>>16),e((65280&s)>>8),e(255&s);return 2===u?(s=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&s)):1===u&&(s=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(s>>8&255),e(255&s)),f}function a(t){function r(t){return n.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var a,o,i,s=t.length%3,u="";for(a=0,i=t.length-s;i>a;a+=3)o=(t[a]<<16)+(t[a+1]<<8)+t[a+2],u+=e(o);switch(s){case 1:o=t[t.length-1],u+=r(o>>2),u+=r(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=r(o>>10),u+=r(o>>4&63),u+=r(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),f="a".charCodeAt(0),h="A".charCodeAt(0),c="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=a}("undefined"==typeof e?this.base64js={}:e)},{}],4:[function(t,r,e){e.read=function(t,r,e,n,a){var o,i,s=8*a-n-1,u=(1<<s)-1,f=u>>1,h=-7,c=e?a-1:0,l=e?-1:1,p=t[r+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[r+c],c+=l,h-=8);for(i=o&(1<<-h)-1,o>>=-h,h+=n;h>0;i=256*i+t[r+c],c+=l,h-=8);if(0===o)o=1-f;else{if(o===u)return i?0/0:1/0*(p?-1:1);i+=Math.pow(2,n),o-=f}return(p?-1:1)*i*Math.pow(2,o-n)},e.write=function(t,r,e,n,a,o){var i,s,u,f=8*o-a-1,h=(1<<f)-1,c=h>>1,l=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||1/0===r?(s=isNaN(r)?1:0,i=h):(i=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-i))<1&&(i--,u*=2),r+=i+c>=1?l/u:l*Math.pow(2,1-c),r*u>=2&&(i++,u/=2),i+c>=h?(s=0,i=h):i+c>=1?(s=(r*u-1)*Math.pow(2,a),i+=c):(s=r*Math.pow(2,c-1)*Math.pow(2,a),i=0));a>=8;t[e+p]=255&s,p+=g,s/=256,a-=8);for(i=i<<a|s,f+=a;f>0;t[e+p]=255&i,p+=g,i/=256,f-=8);t[e+p-g]|=128*d}},{}],5:[function(t,r){var e=Array.isArray,n=Object.prototype.toString;r.exports=e||function(t){return!!t&&"[object Array]"==n.call(t)}},{}],6:[function(t,r){function e(t,r,e){function a(){var o=r||t.parentNode;if(o&&o!==document.body)var i=n(o),s=0|i[0],u=0|i[1];else var s=window.innerWidth,u=window.innerHeight;return t.width=s*e,t.height=u*e,t.style.width=s+"px",t.style.height=u+"px",a}return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,e=parseFloat(e||1),a()}var n=t("element-size");r.exports=e},{"element-size":7}],7:[function(t,r){function e(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var r=!0;document.body.appendChild(t)}var e=t.getBoundingClientRect(),a=getComputedStyle(t),o=(0|e.height)+n(a.getPropertyValue("margin-top"))+n(a.getPropertyValue("margin-bottom")),i=(0|e.width)+n(a.getPropertyValue("margin-left"))+n(a.getPropertyValue("margin-right"));return r&&document.body.removeChild(t),[i,o]}function n(t){return parseFloat(t)||0}r.exports=e},{}],8:[function(t,r){"use strict";function e(t,r,e,n,a){this.gl=t,this.type=r,this.handle=e,this.length=n,this.usage=a}function n(t,r,e,n,a,o){var i=a.length*a.BYTES_PER_ELEMENT;if(0>o)return t.bufferData(r,a,n),i;if(i+o>e)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(r,o,a),e}function a(t,r){for(var e=s.malloc(t.length,r),n=t.length,a=0;n>a;++a)e[a]=t[a];return e}function o(t,r){for(var e=1,n=r.length-1;n>=0;--n){if(r[n]!==e)return!1;e*=t[n]}return!0}function i(t,r,n,a){if(h(t),n=n||t.ARRAY_BUFFER,a=a||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(a!==t.DYNAMIC_DRAW&&a!==t.STATIC_DRAW&&a!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),i=new e(t,n,o,0,a);return i.update(r),i}var s=t("typedarray-pool"),u=t("ndarray-ops"),f=t("ndarray"),h=t("webglew"),c=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],l=e.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(t,r){if("number"!=typeof r&&(r=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var e=t.dtype;if(c.indexOf(e)<0&&(e="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var i=h(this.gl),l=i.OES_element_index_uint;e=l&&"uint16"!==e?"uint32":"uint16"}if(e===t.dtype&&o(t.shape,t.stride))this.length=0===t.offset&&t.data.length===t.shape[0]?n(this.gl,this.type,this.length,this.usage,t.data,r):n(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),r);else{var p=s.malloc(t.size,e),g=f(p,t.shape);u.assign(g,t),this.length=0>r?n(this.gl,this.type,this.length,this.usage,p,r):n(this.gl,this.type,this.length,this.usage,p.subarray(0,t.size),r),s.free(p)}}else if(Array.isArray(t)){var d;d=this.type===this.gl.ELEMENT_ARRAY_BUFFER?a(t,"uint16"):a(t,"float32"),this.length=0>r?n(this.gl,this.type,this.length,this.usage,d,r):n(this.gl,this.type,this.length,this.usage,d.subarray(0,t.length),r),s.free(d)}else if("object"==typeof t&&"number"==typeof t.length)this.length=n(this.gl,this.type,this.length,this.usage,t,r);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(r>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,0>=t&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},r.exports=i},{ndarray:14,"ndarray-ops":9,"typedarray-pool":18,webglew:20}],9:[function(t,r,e){"use strict";function n(t){if(!t)return s;for(var r=0;r<t.args.length;++r){var e=t.args[r];t.args[r]=0===r?{name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){return i({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function o(t){for(var r=[],e=0;e<t.args.length;++e)r.push("a"+e);var n=new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""));return n(a(t))}var i=t("cwise-compiler"),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var r=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var f={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in f){var r=f[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in h){var r=h[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<c.length;++t){var r=c[t];e[r]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var l=["max","min","atan2","pow"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var r=p[t];e[r+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=i({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=i({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=i({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=i({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=i({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=i({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=i({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=i({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})
},{"cwise-compiler":10}],10:[function(t,r){"use strict";function e(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function n(t){var r=new e;r.pre=t.pre,r.body=t.body,r.post=t.post;var n=t.args.slice(0);r.argTypes=n;for(var o=0;o<n.length;++o){var i=n[o];if("array"===i){if(r.arrayArgs.push(o),r.shimArgs.push("array"+o),o<r.pre.args.length&&r.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<r.post.args.length&&r.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===i)r.scalarArgs.push(o),r.shimArgs.push("scalar"+o);else if("index"===i){if(r.indexArgs.push(o),o<r.pre.args.length&&r.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<r.body.args.length&&r.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<r.post.args.length&&r.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===i){if(r.shapeArgs.push(o),o<r.pre.args.length&&r.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<r.body.args.length&&r.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<r.post.args.length&&r.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof i||!i.offset)throw new Error("cwise: Unknown argument type "+n[o]);r.argTypes[o]="offset",r.offsetArgs.push({array:i.array,offset:i.offset}),r.offsetArgIndex.push(o)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,a(r)}var a=t("./lib/thunk.js");r.exports=n},{"./lib/thunk.js":12}],11:[function(t,r){"use strict";function e(t,r,e){var n,a,o=t.length,i=r.arrayArgs.length,s=r.indexArgs.length>0,u=[],f=[],h=0,c=0;for(n=0;o>n;++n)f.push(["i",n,"=0"].join(""));for(a=0;i>a;++a)for(n=0;o>n;++n)c=h,h=t[n],f.push(0===n?["d",a,"s",n,"=t",a,"p",h].join(""):["d",a,"s",n,"=(t",a,"p",h,"-s",c,"*t",a,"p",c,")"].join(""));for(u.push("var "+f.join(",")),n=o-1;n>=0;--n)h=t[n],u.push(["for(i",n,"=0;i",n,"<s",h,";++i",n,"){"].join(""));for(u.push(e),n=0;o>n;++n){for(c=h,h=t[n],a=0;i>a;++a)u.push(["p",a,"+=d",a,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",h,"]"].join(""))),u.push("}")}return u.join("\n")}function n(t,r,n,a){for(var o=r.length,i=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,f=[],h=0;i>h;++h)f.push(["var offset",h,"=p",h].join(""));for(var h=t;o>h;++h)f.push(["for(var j"+h+"=SS[",r[h],"]|0;j",h,">0;){"].join("")),f.push(["if(j",h,"<",s,"){"].join("")),f.push(["s",r[h],"=j",h].join("")),f.push(["j",h,"=0"].join("")),f.push(["}else{s",r[h],"=",s].join("")),f.push(["j",h,"-=",s,"}"].join("")),u&&f.push(["index[",r[h],"]=j",h].join(""));for(var h=0;i>h;++h){for(var c=["offset"+h],l=t;o>l;++l)c.push(["j",l,"*t",h,"p",r[l]].join(""));f.push(["p",h,"=(",c.join("+"),")"].join(""))}f.push(e(r,n,a));for(var h=t;o>h;++h)f.push("}");return f.join("\n")}function a(t){for(var r=0,e=t[0].length;e>r;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function o(t,r,e){for(var n=t.body,a=[],o=[],i=0;i<t.args.length;++i){var s=t.args[i];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",h=r.arrayArgs.indexOf(i);switch(r.argTypes[i]){case"offset":var c=r.offsetArgIndex.indexOf(i),l=r.offsetArgs[c];h=l.array,f="+q"+c;case"array":f="p"+h+f;var p="l"+i,g="a"+h;1===s.count?"generic"===e[h]?s.lvalue?(a.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),o.push([g,".set(",f,",",p,")"].join(""))):n=n.replace(u,[g,".get(",f,")"].join("")):n=n.replace(u,[g,"[",f,"]"].join("")):"generic"===e[h]?(a.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),s.lvalue&&o.push([g,".set(",f,",",p,")"].join(""))):(a.push(["var ",p,"=",g,"[",f,"]"].join("")),n=n.replace(u,p),s.lvalue&&o.push([g,"[",f,"]=",p].join("")));break;case"scalar":n=n.replace(u,"Y"+r.scalarArgs.indexOf(i));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,o.join("\n")].join("\n").trim()}function i(t){for(var r=new Array(t.length),e=!0,n=0;n<t.length;++n){var a=t[n],o=a.match(/\d+/);o=o?o[0]:"",r[n]=0===a.charAt(0)?"u"+a.charAt(1)+o:a.charAt(0)+o,n>0&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}function s(t,r){for(var s=0|r[1].length,f=new Array(t.arrayArgs.length),h=new Array(t.arrayArgs.length),c=["SS"],l=["'use strict'"],p=[],g=0;s>g;++g)p.push(["s",g,"=SS[",g,"]"].join(""));for(var d=0;d<t.arrayArgs.length;++d){c.push("a"+d),c.push("t"+d),c.push("p"+d),h[d]=r[2*d],f[d]=r[2*d+1];for(var g=0;s>g;++g)p.push(["t",d,"p",g,"=t",d,"[",g,"]"].join(""))}for(var d=0;d<t.scalarArgs.length;++d)c.push("Y"+d);if(t.shapeArgs.length>0&&p.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var y=new Array(s),d=0;s>d;++d)y[d]="0";p.push(["index=[",y.join(","),"]"].join(""))}for(var d=0;d<t.offsetArgs.length;++d){for(var v=t.offsetArgs[d],b=[],g=0;g<v.offset.length;++g)0!==v.offset[g]&&b.push(1===v.offset[g]?["t",v.array,"p",g].join(""):[v.offset[g],"*t",v.array,"p",g].join(""));p.push(0===b.length?"q"+d+"=0":["q",d,"=",b.join("+")].join(""))}var _=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));p=p.concat(_),l.push("var "+p.join(","));for(var d=0;d<t.arrayArgs.length;++d)l.push("p"+d+"|=0");t.pre.body.length>3&&l.push(o(t.pre,t,h));var w=o(t.body,t,h),m=a(f);l.push(s>m?n(m,f[0],t,w):e(f[0],t,w)),t.post.body.length>3&&l.push(o(t.post,t,h)),t.debug&&console.log("Generated cwise routine for ",r,":\n\n",l.join("\n"));var A=[t.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",m,i(h)].join(""),E=new Function(["function ",A,"(",c.join(","),"){",l.join("\n"),"} return ",A].join(""));return E()}var u=t("uniq");r.exports=s},{uniq:13}],12:[function(t,r){"use strict";function e(t){var r=["'use strict'","var CACHED={}"],e=[],a=t.funcName+"_cwise_thunk";r.push(["return function ",a,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],i=[],s=[["array",t.arrayArgs[0],".shape"].join("")],u=0;u<t.arrayArgs.length;++u){var f=t.arrayArgs[u];e.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),i.push("t"+f),i.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0")}for(var u=0;u<t.scalarArgs.length;++u)s.push("scalar"+t.scalarArgs[u]);e.push(["type=[",i.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("Generated thunk:",r.join("\n"));var h=new Function("compile",r.join("\n"));return h(n.bind(void 0,t))}var n=t("./compile.js");r.exports=e},{"./compile.js":11}],13:[function(t,r){"use strict";function e(t,r){for(var e=1,n=t.length,a=t[0],o=t[0],i=1;n>i;++i)if(o=a,a=t[i],r(a,o)){if(i===e){e++;continue}t[e++]=a}return t.length=e,t}function n(t){for(var r=1,e=t.length,n=t[0],a=t[0],o=1;e>o;++o,a=n)if(a=n,n=t[o],n!==a){if(o===r){r++;continue}t[r++]=n}return t.length=r,t}function a(t,r,a){return 0===t.length?t:r?(a||t.sort(r),e(t,r)):(a||t.sort(),n(t))}r.exports=a},{}],14:[function(t,r){(function(e){function n(t,r){return t[0]-r[0]}function a(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var a=new Array(e.length);for(t=0;t<a.length;++t)a[t]=e[t][1];return a}function o(t,r){var e=["View",r,"d",t].join("");0>r&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var o="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",i=new Function(o);return i()}if(0===r){var o="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",i=new Function("TrivialArray",o);return i(c[t][0])}var o=["'use strict'"],s=u(r),f=s.map(function(t){return"i"+t}),h="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");o.push("function "+e+"(a,"+l+","+p+",d){this.data=a","this.shape=["+l+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),o.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>r?(o.push("function "+e+"_order(){"),2===r?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+e+"_set("+f.join(",")+",v){"),o.push(n?"return this.data.set("+h+",v)}":"return this.data["+h+"]=v}"),o.push("proto.get=function "+e+"_get("+f.join(",")+"){"),o.push(n?"return this.data.get("+h+")}":"return this.data["+h+"]}"),o.push("proto.index=function "+e+"_index(",f.join(),"){return "+h+"}"),o.push("proto.hi=function "+e+"_hi("+f.join(",")+"){return new "+e+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var g=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),d=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+e+"_lo("+f.join(",")+"){var b=this.offset,d=0,"+g.join(",")+","+d.join(","));for(var y=0;r>y;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");o.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+e+"_step("+f.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;r>y;++y)o.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");o.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var v=new Array(r),b=new Array(r),y=0;r>y;++y)v[y]="a[i"+y+"]",b[y]="b[i"+y+"]";o.push("proto.transpose=function "+e+"_transpose("+f+"){"+f.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+v.join(",")+","+b.join(",")+",this.offset)}"),o.push("proto.pick=function "+e+"_pick("+f+"){var a=[],b=[],c=this.offset");for(var y=0;r>y;++y)o.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var i=new Function("CTOR_LIST","ORDER",o.join("\n"));return i(c[t],a)}function i(t){if(h&&e.isBuffer(t))return"buffer";if(f)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,r,e,n){if(void 0===t){var a=c.array[0];return a([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var s=r.length;if(void 0===e){e=new Array(s);for(var u=s-1,f=1;u>=0;--u)e[u]=f,f*=r[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)e[u]<0&&(n-=(r[u]-1)*e[u])}for(var h=i(t),l=c[h];l.length<=s+1;)l.push(o(h,l.length-1));var a=l[s+1];return a(t,r,e,n)}var u=t("iota-array"),f="undefined"!=typeof Float64Array,h="undefined"!=typeof e,c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};r.exports=s}).call(this,t("buffer").Buffer)},{buffer:2,"iota-array":15}],15:[function(t,r){"use strict";function e(t){for(var r=new Array(t),e=0;t>e;++e)r[e]=e;return r}r.exports=e},{}],16:[function(t,r,e){"use strict";"use restrict";function n(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var a=32;e.INT_BITS=a,e.INT_MAX=2147483647,e.INT_MIN=-1<<a-1,e.sign=function(t){return(t>0)-(0>t)},e.abs=function(t){var r=t>>a-1;return(t^r)-r},e.min=function(t,r){return r^(t^r)&-(r>t)},e.max=function(t,r){return t^(t^r)&-(r>t)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,r|=e,r|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var r=0;256>r;++r){var e=r,n=r,a=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--a;t[r]=n<<a&255}}(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},e.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},e.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>n(t)+1}},{}],17:[function(t,r){"use strict";function e(t,r,n){var a=0|t[n];if(0>=a)return[];var o,i=new Array(a);if(n===t.length-1)for(o=0;a>o;++o)i[o]=r;else for(o=0;a>o;++o)i[o]=e(t,r,n+1);return i}function n(t,r){var e,n;for(e=new Array(t),n=0;t>n;++n)e[n]=r;return e}function a(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return n(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}r.exports=a},{}],18:[function(t,r,e){(function(r,n){"use strict";function a(t){if(t){var r=t.length||t.byteLength,e=b.log2(r);A[e].push(t)}}function o(t){a(t.buffer)}function i(t){var t=b.nextPow2(t),r=b.log2(t),e=A[r];return e.length>0?e.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(i(t),0,t)}function u(t){return new Uint16Array(i(2*t),0,t)}function f(t){return new Uint32Array(i(4*t),0,t)}function h(t){return new Int8Array(i(t),0,t)}function c(t){return new Int16Array(i(2*t),0,t)}function l(t){return new Int32Array(i(4*t),0,t)}function p(t){return new Float32Array(i(4*t),0,t)}function g(t){return new Float64Array(i(8*t),0,t)}function d(t){return w?new Uint8ClampedArray(i(t),0,t):s(t)}function y(t){return new DataView(i(t),0,t)}function v(t){t=b.nextPow2(t);var r=b.log2(t),e=E[r];return e.length>0?e.pop():new n(t)}var b=t("bit-twiddle"),_=t("dup");r.__TYPEDARRAY_POOL||(r.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var w="undefined"!=typeof Uint8ClampedArray,m=r.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=_([32,0])),m.BUFFER||(m.BUFFER=_([32,0]));var A=m.DATA,E=m.BUFFER;e.free=function(t){if(n.isBuffer(t))E[b.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|b.log2(r);A[e].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=a,e.freeBuffer=function(t){E[b.log2(t.length)].push(t)},e.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return i(t);switch(r){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return f(t);case"int8":return h(t);case"int16":return c(t);case"int32":return l(t);case"float":case"float32":return p(t);case"double":case"float64":return g(t);case"uint8_clamped":return d(t);case"buffer":return v(t);case"data":case"dataview":return y(t);default:return null}return null},e.mallocArrayBuffer=i,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=f,e.mallocInt8=h,e.mallocInt16=c,e.mallocInt32=l,e.mallocFloat32=e.mallocFloat=p,e.mallocFloat64=e.mallocDouble=g,e.mallocUint8Clamped=d,e.mallocDataView=y,e.mallocBuffer=v,e.clearCache=function(){for(var t=0;32>t;++t)m.UINT8[t].length=0,m.UINT16[t].length=0,m.UINT32[t].length=0,m.INT8[t].length=0,m.INT16[t].length=0,m.INT32[t].length=0,m.FLOAT[t].length=0,m.DOUBLE[t].length=0,m.UINT8C[t].length=0,A[t].length=0,E[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":16,buffer:2,dup:17}],19:[function(t,r){!function(){"use strict";function t(r){r.permitHostObjects___&&r.permitHostObjects___(t)}function e(t){return!(t.substr(0,p.length)==p&&"___"===t.substr(t.length-3))}function n(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var r=t[g];if(r&&r.key===t)return r;if(!l(t))return void 0;r={key:t};try{return c(t,g,{value:r,writable:!1,enumerable:!1,configurable:!1}),r}catch(e){return void 0}}function a(t){return t.prototype=null,Object.freeze(t)}function o(){b||"undefined"==typeof console||(b=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=t);var i=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var u=new s,f=Object.freeze({});if(u.set(f,1),1===u.get(f))return void(r.exports=WeakMap);i=!0}}var h=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),c=Object.defineProperty,l=Object.isExtensible,p="weakmap:",g=p+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var d=new ArrayBuffer(25),y=new Uint8Array(d);crypto.getRandomValues(y),g=p+"rand:"+Array.prototype.map.call(y,function(t){return(t%36).toString(36)}).join("")+"___"}if(c(Object,"getOwnPropertyNames",{value:function(t){return h(t).filter(e)}}),"getPropertyNames"in Object){var v=Object.getPropertyNames;c(Object,"getPropertyNames",{value:function(t){return v(t).filter(e)}})}!function(){var t=Object.freeze;c(Object,"freeze",{value:function(r){return n(r),t(r)}});var r=Object.seal;c(Object,"seal",{value:function(t){return n(t),r(t)}});var e=Object.preventExtensions;c(Object,"preventExtensions",{value:function(t){return n(t),e(t)}})}();var b=!1,_=0,w=function(){function t(t,r){var e,a=n(t);return a?f in a?a[f]:r:(e=s.indexOf(t),e>=0?u[e]:r)}function r(t){var r=n(t);return r?f in r:s.indexOf(t)>=0}function e(t,r){var e,a=n(t);return a?a[f]=r:(e=s.indexOf(t),e>=0?u[e]=r:(e=s.length,u[e]=r,s[e]=t)),this}function i(t){var r,e,a=n(t);return a?f in a&&delete a[f]:(r=s.indexOf(t),0>r?!1:(e=s.length-1,s[r]=void 0,u[r]=u[e],s[r]=s[e],s.length=e,u.length=e,!0))}this instanceof w||o();var s=[],u=[],f=_++;return Object.create(w.prototype,{get___:{value:a(t)},has___:{value:a(r)},set___:{value:a(e)},delete___:{value:a(i)}})};w.prototype=Object.create(Object.prototype,{get:{value:function(t,r){return this.get___(t,r)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,r){return this.set___(t,r)},writable:!0,configurable:!0},"delete":{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof s?!function(){function e(){function r(t,r){return h?f.has(t)?f.get(t):h.get___(t,r):f.get(t,r)}function e(t){return f.has(t)||(h?h.has___(t):!1)}function n(t){var r=!!f["delete"](t);return h?h.delete___(t)||r:r}this instanceof w||o();var u,f=new s,h=void 0,c=!1;return u=i?function(t,r){return f.set(t,r),f.has(t)||(h||(h=new w),h.set(t,r)),this}:function(t,r){if(c)try{f.set(t,r)}catch(e){h||(h=new w),h.set___(t,r)}else f.set(t,r);return this},Object.create(w.prototype,{get___:{value:a(r)},has___:{value:a(e)},set___:{value:a(u)},delete___:{value:a(n)},permitHostObjects___:{value:a(function(r){if(r!==t)throw new Error("bogus call to permitHostObjects___");c=!0})}})}i&&"undefined"!=typeof Proxy&&(Proxy=void 0),e.prototype=w.prototype,r.exports=e,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),r.exports=w)}}()},{}],20:[function(t,r){"use strict";function e(t){return t.replace(/^[A-Z]+_/,"")}function n(t){var r=o.get(t);if(r)return r;for(var n={},a=t.getSupportedExtensions(),i=0;i<a.length;++i){var s=a[i];if(0!==s.indexOf("MOZ_")){var u=t.getExtension(a[i]);if(u)for(;;){n[s]=u;var f=e(s);if(f===s)break;s=f}}}return o.set(t,n),n}var a="undefined"==typeof WeakMap?t("weak-map"):WeakMap,o=new a;r.exports=n},{"weak-map":19}],21:[function(t,r){function e(t){return{color:a(t.color,[0,0,0,1]),depth:n(t.depth,1),stencil:n(t.stencil,!1)}}function n(t,r){return t===!1?!1:"undefined"==typeof t?r:t+0}function a(t,r){return t===!1?!1:Array.isArray(t)?t||r:r}r.exports=e},{}],22:[function(t,r){function e(t){t=n(t||{});var r=t.stencil,e=t.color,a=t.depth;return function(t){var n=0;return e!==!1&&(t.clearColor(e[0],e[1],e[2],e[3]),n|=t.COLOR_BUFFER_BIT),a!==!1&&(t.clearDepth(a),n|=t.DEPTH_BUFFER_BIT),r!==!1&&(t.clearStencil(r),n|=t.STENCIL_BUFFER_BIT),t.clear(n),t}}var n=t("./defaults");r.exports=e},{"./defaults":21}],23:[function(t,r){function e(t,r,e){function a(){e(o),n(a)}"function"==typeof r?(e=r,r={}):r=r||{};var o=t.getContext("webgl",r)||t.getContext("webgl-experimental",r)||t.getContext("experimental-webgl",r);if(!o)throw new Error("Unable to initialize WebGL");return e&&n(a),o}var n=t("raf-component");r.exports=e},{"raf-component":24}],24:[function(t,r,e){function n(t){var r=(new Date).getTime(),e=Math.max(0,16-(r-a)),n=setTimeout(t,e);return a=r,n}e=r.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n;var a=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;e.cancel=function(t){o.call(window,t)}},{}],25:[function(t,r){function e(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=r[4],s=r[5],u=r[6],f=r[7],h=r[8],c=r[9],l=r[10],p=r[11],g=r[12],d=r[13],y=r[14],v=r[15];return t[0]=s*(l*v-p*y)-c*(u*v-f*y)+d*(u*p-f*l),t[1]=-(n*(l*v-p*y)-c*(a*v-o*y)+d*(a*p-o*l)),t[2]=n*(u*v-f*y)-s*(a*v-o*y)+d*(a*f-o*u),t[3]=-(n*(u*p-f*l)-s*(a*p-o*l)+c*(a*f-o*u)),t[4]=-(i*(l*v-p*y)-h*(u*v-f*y)+g*(u*p-f*l)),t[5]=e*(l*v-p*y)-h*(a*v-o*y)+g*(a*p-o*l),t[6]=-(e*(u*v-f*y)-i*(a*v-o*y)+g*(a*f-o*u)),t[7]=e*(u*p-f*l)-i*(a*p-o*l)+h*(a*f-o*u),t[8]=i*(c*v-p*d)-h*(s*v-f*d)+g*(s*p-f*c),t[9]=-(e*(c*v-p*d)-h*(n*v-o*d)+g*(n*p-o*c)),t[10]=e*(s*v-f*d)-i*(n*v-o*d)+g*(n*f-o*s),t[11]=-(e*(s*p-f*c)-i*(n*p-o*c)+h*(n*f-o*s)),t[12]=-(i*(c*y-l*d)-h*(s*y-u*d)+g*(s*l-u*c)),t[13]=e*(c*y-l*d)-h*(n*y-a*d)+g*(n*l-a*c),t[14]=-(e*(s*y-u*d)-i*(n*y-a*d)+g*(n*u-a*s)),t[15]=e*(s*l-u*c)-i*(n*l-a*c)+h*(n*u-a*s),t}r.exports=e},{}],26:[function(t,r){function e(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}r.exports=e},{}],27:[function(t,r){function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}r.exports=e},{}],28:[function(t,r){function e(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}r.exports=e},{}],29:[function(t,r){function e(t){var r=t[0],e=t[1],n=t[2],a=t[3],o=t[4],i=t[5],s=t[6],u=t[7],f=t[8],h=t[9],c=t[10],l=t[11],p=t[12],g=t[13],d=t[14],y=t[15],v=r*i-e*o,b=r*s-n*o,_=r*u-a*o,w=e*s-n*i,m=e*u-a*i,A=n*u-a*s,E=f*g-h*p,j=f*d-c*p,I=f*y-l*p,x=h*d-c*g,R=h*y-l*g,T=c*y-l*d;return v*T-b*R+_*x+w*I-m*j+A*E}r.exports=e},{}],30:[function(t,r){function e(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=e+e,s=n+n,u=a+a,f=e*i,h=n*i,c=n*s,l=a*i,p=a*s,g=a*u,d=o*i,y=o*s,v=o*u;return t[0]=1-c-g,t[1]=h+v,t[2]=l-y,t[3]=0,t[4]=h-v,t[5]=1-f-g,t[6]=p+d,t[7]=0,t[8]=l+y,t[9]=p-d,t[10]=1-f-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}r.exports=e},{}],31:[function(t,r){function e(t,r,e){var n=r[0],a=r[1],o=r[2],i=r[3],s=n+n,u=a+a,f=o+o,h=n*s,c=n*u,l=n*f,p=a*u,g=a*f,d=o*f,y=i*s,v=i*u,b=i*f;return t[0]=1-(p+d),t[1]=c+b,t[2]=l-v,t[3]=0,t[4]=c-b,t[5]=1-(h+d),t[6]=g+y,t[7]=0,t[8]=l+v,t[9]=g-y,t[10]=1-(h+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}r.exports=e},{}],32:[function(t,r){function e(t,r,e,n,a,o,i){var s=1/(e-r),u=1/(a-n),f=1/(o-i);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(e+r)*s,t[9]=(a+n)*u,t[10]=(i+o)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*f,t[15]=0,t}r.exports=e},{}],33:[function(t,r){function e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}r.exports=e},{}],34:[function(t,r){r.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotationTranslation:t("./fromRotationTranslation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":25,"./clone":26,"./copy":27,"./create":28,"./determinant":29,"./fromQuat":30,"./fromRotationTranslation":31,"./frustum":32,"./identity":33,"./invert":35,"./lookAt":36,"./multiply":37,"./ortho":38,"./perspective":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],35:[function(t,r){function e(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=r[4],s=r[5],u=r[6],f=r[7],h=r[8],c=r[9],l=r[10],p=r[11],g=r[12],d=r[13],y=r[14],v=r[15],b=e*s-n*i,_=e*u-a*i,w=e*f-o*i,m=n*u-a*s,A=n*f-o*s,E=a*f-o*u,j=h*d-c*g,I=h*y-l*g,x=h*v-p*g,R=c*y-l*d,T=c*v-p*d,U=l*v-p*y,V=b*U-_*T+w*R+m*x-A*I+E*j;return V?(V=1/V,t[0]=(s*U-u*T+f*R)*V,t[1]=(a*T-n*U-o*R)*V,t[2]=(d*E-y*A+v*m)*V,t[3]=(l*A-c*E-p*m)*V,t[4]=(u*x-i*U-f*I)*V,t[5]=(e*U-a*x+o*I)*V,t[6]=(y*w-g*E-v*_)*V,t[7]=(h*E-l*w+p*_)*V,t[8]=(i*T-s*x+f*j)*V,t[9]=(n*x-e*T-o*j)*V,t[10]=(g*A-d*w+v*b)*V,t[11]=(c*w-h*A-p*b)*V,t[12]=(s*I-i*R-u*j)*V,t[13]=(e*R-n*I+a*j)*V,t[14]=(d*_-g*m-y*b)*V,t[15]=(h*m-c*_+l*b)*V,t):null}r.exports=e},{}],36:[function(t,r){function e(t,r,e,n){var a,o,i,s,u,f,h,c,l,p,g=r[0],d=r[1],y=r[2],v=n[0],b=n[1],_=n[2],w=e[0],m=e[1],A=e[2];return Math.abs(g-w)<1e-6&&Math.abs(d-m)<1e-6&&Math.abs(y-A)<1e-6?mat4.identity(t):(h=g-w,c=d-m,l=y-A,p=1/Math.sqrt(h*h+c*c+l*l),h*=p,c*=p,l*=p,a=b*l-_*c,o=_*h-v*l,i=v*c-b*h,p=Math.sqrt(a*a+o*o+i*i),p?(p=1/p,a*=p,o*=p,i*=p):(a=0,o=0,i=0),s=c*i-l*o,u=l*a-h*i,f=h*o-c*a,p=Math.sqrt(s*s+u*u+f*f),p?(p=1/p,s*=p,u*=p,f*=p):(s=0,u=0,f=0),t[0]=a,t[1]=s,t[2]=h,t[3]=0,t[4]=o,t[5]=u,t[6]=c,t[7]=0,t[8]=i,t[9]=f,t[10]=l,t[11]=0,t[12]=-(a*g+o*d+i*y),t[13]=-(s*g+u*d+f*y),t[14]=-(h*g+c*d+l*y),t[15]=1,t)}r.exports=e},{}],37:[function(t,r){function e(t,r,e){var n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],u=r[5],f=r[6],h=r[7],c=r[8],l=r[9],p=r[10],g=r[11],d=r[12],y=r[13],v=r[14],b=r[15],_=e[0],w=e[1],m=e[2],A=e[3];return t[0]=_*n+w*s+m*c+A*d,t[1]=_*a+w*u+m*l+A*y,t[2]=_*o+w*f+m*p+A*v,t[3]=_*i+w*h+m*g+A*b,_=e[4],w=e[5],m=e[6],A=e[7],t[4]=_*n+w*s+m*c+A*d,t[5]=_*a+w*u+m*l+A*y,t[6]=_*o+w*f+m*p+A*v,t[7]=_*i+w*h+m*g+A*b,_=e[8],w=e[9],m=e[10],A=e[11],t[8]=_*n+w*s+m*c+A*d,t[9]=_*a+w*u+m*l+A*y,t[10]=_*o+w*f+m*p+A*v,t[11]=_*i+w*h+m*g+A*b,_=e[12],w=e[13],m=e[14],A=e[15],t[12]=_*n+w*s+m*c+A*d,t[13]=_*a+w*u+m*l+A*y,t[14]=_*o+w*f+m*p+A*v,t[15]=_*i+w*h+m*g+A*b,t}r.exports=e},{}],38:[function(t,r){function e(t,r,e,n,a,o,i){var s=1/(r-e),u=1/(n-a),f=1/(o-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(r+e)*s,t[13]=(a+n)*u,t[14]=(i+o)*f,t[15]=1,t}r.exports=e},{}],39:[function(t,r){function e(t,r,e,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*i,t[15]=0,t}r.exports=e},{}],40:[function(t,r){function e(t,r,e,n){var a,o,i,s,u,f,h,c,l,p,g,d,y,v,b,_,w,m,A,E,j,I,x,R,T=n[0],U=n[1],V=n[2],B=Math.sqrt(T*T+U*U+V*V);return Math.abs(B)<1e-6?null:(B=1/B,T*=B,U*=B,V*=B,a=Math.sin(e),o=Math.cos(e),i=1-o,s=r[0],u=r[1],f=r[2],h=r[3],c=r[4],l=r[5],p=r[6],g=r[7],d=r[8],y=r[9],v=r[10],b=r[11],_=T*T*i+o,w=U*T*i+V*a,m=V*T*i-U*a,A=T*U*i-V*a,E=U*U*i+o,j=V*U*i+T*a,I=T*V*i+U*a,x=U*V*i-T*a,R=V*V*i+o,t[0]=s*_+c*w+d*m,t[1]=u*_+l*w+y*m,t[2]=f*_+p*w+v*m,t[3]=h*_+g*w+b*m,t[4]=s*A+c*E+d*j,t[5]=u*A+l*E+y*j,t[6]=f*A+p*E+v*j,t[7]=h*A+g*E+b*j,t[8]=s*I+c*x+d*R,t[9]=u*I+l*x+y*R,t[10]=f*I+p*x+v*R,t[11]=h*I+g*x+b*R,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)
}r.exports=e},{}],41:[function(t,r){function e(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[4],i=r[5],s=r[6],u=r[7],f=r[8],h=r[9],c=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*a+f*n,t[5]=i*a+h*n,t[6]=s*a+c*n,t[7]=u*a+l*n,t[8]=f*a-o*n,t[9]=h*a-i*n,t[10]=c*a-s*n,t[11]=l*a-u*n,t}r.exports=e},{}],42:[function(t,r){function e(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],s=r[2],u=r[3],f=r[8],h=r[9],c=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a-f*n,t[1]=i*a-h*n,t[2]=s*a-c*n,t[3]=u*a-l*n,t[8]=o*n+f*a,t[9]=i*n+h*a,t[10]=s*n+c*a,t[11]=u*n+l*a,t}r.exports=e},{}],43:[function(t,r){function e(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],s=r[2],u=r[3],f=r[4],h=r[5],c=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a+f*n,t[1]=i*a+h*n,t[2]=s*a+c*n,t[3]=u*a+l*n,t[4]=f*a-o*n,t[5]=h*a-i*n,t[6]=c*a-s*n,t[7]=l*a-u*n,t}r.exports=e},{}],44:[function(t,r){function e(t,r,e){var n=e[0],a=e[1],o=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}r.exports=e},{}],45:[function(t,r){function e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}r.exports=e},{}],46:[function(t,r){function e(t,r,e){var n,a,o,i,s,u,f,h,c,l,p,g,d=e[0],y=e[1],v=e[2];return r===t?(t[12]=r[0]*d+r[4]*y+r[8]*v+r[12],t[13]=r[1]*d+r[5]*y+r[9]*v+r[13],t[14]=r[2]*d+r[6]*y+r[10]*v+r[14],t[15]=r[3]*d+r[7]*y+r[11]*v+r[15]):(n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],u=r[5],f=r[6],h=r[7],c=r[8],l=r[9],p=r[10],g=r[11],t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=s,t[5]=u,t[6]=f,t[7]=h,t[8]=c,t[9]=l,t[10]=p,t[11]=g,t[12]=n*d+s*y+c*v+r[12],t[13]=a*d+u*y+l*v+r[13],t[14]=o*d+f*y+p*v+r[14],t[15]=i*d+h*y+g*v+r[15]),t}r.exports=e},{}],47:[function(t,r){function e(t,r){if(t===r){var e=r[1],n=r[2],a=r[3],o=r[6],i=r[7],s=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=o,t[11]=r[14],t[12]=a,t[13]=i,t[14]=s}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}r.exports=e},{}],48:[function(t,r){function e(t,r,e,a){return function(o){return n(o,t,r,e,a)}}r.exports=e;var n=t("gl-shader-core")},{"gl-shader-core":54}],49:[function(t,r){function e(){throw new Error("You should bundle your code using `glslify` as a transform.")}r.exports=e},{}],50:[function(t,r){"use strict";function e(t,r,e,n,a,o,i){this._gl=t,this._program=r,this._location=e,this._dimension=n,this._name=a,this._constFunc=o,this._relink=i}function n(t,r,n,a,o,i,s){for(var u=["gl","v"],f=[],h=0;a>h;++h)u.push("x"+h),f.push("x"+h);u.push(["if(x0.length===void 0){return gl.vertexAttrib",a,"f(v,",f.join(),")}else{return gl.vertexAttrib",a,"fv(v,x0)}"].join(""));var c=Function.apply(void 0,u),l=new e(t,r,n,a,i,c,s);Object.defineProperty(o,i,{set:function(r){return t.disableVertexAttribArray(l._location),c(t,l._location,r),r},get:function(){return l},enumerable:!0})}function a(t,r,e,a){for(var o={},i=0,s=e.length;s>i;++i){var u=e[i],f=u.name,h=u.type,c=t.getAttribLocation(r,f);switch(h){case"bool":case"int":case"float":n(t,r,c,1,o,f,a);break;default:if(!(h.indexOf("vec")>=0))throw new Error("gl-shader: Unknown data type for attribute "+f+": "+h);var l=h.charCodeAt(h.length-1)-48;if(2>l||l>4)throw new Error("gl-shader: Invalid data type for attribute "+f+": "+h);n(t,r,c,l,o,f,a)}}return o}r.exports=a;var o=e.prototype;o.pointer=function(t,r,e,n){var a=this._gl;a.vertexAttribPointer(this._location,this._dimension,t||a.FLOAT,!!r,e||0,n||0),this._gl.enableVertexAttribArray(this._location)},Object.defineProperty(o,"location",{get:function(){return this._location},set:function(t){t!==this._location&&(this._location=t,this._gl.bindAttribLocation(this._program,t,this._name),this._gl.linkProgram(this._program),this._relink())}})},{}],51:[function(t,r){"use strict";function e(t){var r=new Function("y","return function(){return y}");return r(t)}function n(t,r,n,i){function s(e){var n=new Function("gl","prog","locations","return function(){return gl.getUniform(prog,locations["+e+"])}");return n(t,r,i)}function u(t,r,e){switch(e){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+r+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+r+"],obj"+t+")";default:var n=e.indexOf("vec");if(!(n>=0&&1>=n&&e.length===4+n)){if(0===e.indexOf("mat")&&4===e.length){var a=e.charCodeAt(e.length-1)-48;if(2>a||a>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+e);return"gl.uniformMatrix"+a+"fv(locations["+r+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+e)}var a=e.charCodeAt(e.length-1)-48;if(2>a||a>4)throw new Error("gl-shader: Invalid data type");switch(e.charAt(0)){case"b":case"i":return"gl.uniform"+a+"iv(locations["+r+"],obj"+t+")";case"v":return"gl.uniform"+a+"fv(locations["+r+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+e)}}}function f(t,r){if("object"!=typeof r)return[[t,r]];var e=[];for(var n in r){var a=r[n],o=t;o+=parseInt(n)+""===n?"["+n+"]":"."+n,"object"==typeof a?e.push.apply(e,f(o,a)):e.push([o,a])}return e}function h(e){for(var a=["return function updateProperty(obj){"],o=f("",e),s=0;s<o.length;++s){var h=o[s],c=h[0],l=h[1];i[l]&&a.push(u(c,l,n[l].type))}a.push("return obj}");var p=new Function("gl","prog","locations",a.join("\n"));return p(t,r,i)}function c(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var r=t.indexOf("vec");if(r>=0&&1>=r&&t.length===4+r){var e=t.charCodeAt(t.length-1)-48;if(2>e||e>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?a(e,!1):a(e)}if(0===t.indexOf("mat")&&4===t.length){var e=t.charCodeAt(t.length-1)-48;if(2>e||e>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return a([e,e])}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function l(t,r,a){if("object"==typeof a){var o=p(a);Object.defineProperty(t,r,{get:e(o),set:h(a),enumerable:!0,configurable:!1})}else i[a]?Object.defineProperty(t,r,{get:s(a),set:h(a),enumerable:!0,configurable:!1}):t[r]=c(n[a].type)}function p(t){var r;if(Array.isArray(t)){r=new Array(t.length);for(var e=0;e<t.length;++e)l(r,e,t[e])}else{r={};for(var n in t)l(r,n,t[n])}return r}var g=o(n,!0);return{get:e(p(g)),set:h(g),enumerable:!0,configurable:!0}}var a=t("dup"),o=t("./reflect");r.exports=n},{"./reflect":52,dup:53}],52:[function(t,r){"use strict";function e(t,r){for(var e={},n=0;n<t.length;++n)for(var a=t[n].name,o=a.split("."),i=e,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in i||(i[u[0]]=[]),i=i[u[0]];for(var f=1;f<u.length;++f){var h=parseInt(u[f]);f<u.length-1||s<o.length-1?(h in i||(i[h]=f<u.length-1?[]:{}),i=i[h]):i[h]=r?n:t[n].type}}else s<o.length-1?(u[0]in i||(i[u[0]]={}),i=i[u[0]]):i[u[0]]=r?n:t[n].type}return e}r.exports=e},{}],53:[function(t,r,e){arguments[4][17][0].apply(e,arguments)},{dup:17}],54:[function(t,r){"use strict";function e(t,r,e,n){this.gl=t,this.handle=r,this.attributes=null,this.uniforms=null,this.types=null,this.vertexShader=e,this.fragmentShader=n}function n(t,r,e,n){for(var a=0;a<n.length;++a)e[a]=t.getUniformLocation(r,n[a].name)}function a(t,r,n,a,o){var i=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(i);throw console.error("gl-shader: Error compling vertex shader:",s),new Error("gl-shader: Error compiling vertex shader:"+s)}var u=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(u,n),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(u);throw console.error("gl-shader: Error compiling fragment shader:",s),new Error("gl-shader: Error compiling fragment shader:"+s)}var f=t.createProgram();if(t.attachShader(f,u),t.attachShader(f,i),o.forEach(function(r){"number"==typeof r.location&&t.bindAttribLocation(f,r.location,r.name)}),t.linkProgram(f),!t.getProgramParameter(f,t.LINK_STATUS)){var s=t.getProgramInfoLog(f);throw console.error("gl-shader: Error linking shader program:",s),new Error("gl-shader: Error linking shader program:"+s)}var h=new e(t,f,i,u);return h.updateExports(a,o),h}var o=t("./lib/create-uniforms"),i=t("./lib/create-attributes"),s=t("./lib/reflect");e.prototype.bind=function(){this.gl.useProgram(this.handle)},e.prototype.dispose=function(){var t=this.gl;t.deleteShader(this.vertexShader),t.deleteShader(this.fragmentShader),t.deleteProgram(this.handle)},e.prototype.updateExports=function(t,r){var e=new Array(t.length),a=this.handle,u=this.gl,f=n.bind(void 0,u,a,e,t);f(),this.types={uniforms:s(t),attributes:s(r)},this.attributes=i(u,a,r,f),Object.defineProperty(this,"uniforms",o(u,a,t,e))},r.exports=a},{"./lib/create-attributes":50,"./lib/create-uniforms":51,"./lib/reflect":52}]},{},[1]);